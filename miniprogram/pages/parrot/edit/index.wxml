<view class="page">
  <view class="form-card glass-card">
    <view class="form-item">
      <text class="form-label"><text class="required">*</text> 品种</text>
      <input placeholder="请输入品种" data-field="breed" bindinput="onInput" value="{{form.breed}}" />
    </view>
    
    <view class="form-item">
      <text class="form-label"><text class="required">*</text> 性别</text>
      <picker mode="selector" range="{{genders}}" value="{{genderIndex}}" bindchange="onGenderChange">
        <view class="picker-value {{genderIndex < 0 ? 'placeholder' : ''}}">
          {{genderIndex >= 0 ? genders[genderIndex] : '请选择性别'}}
        </view>
      </picker>
    </view>
    
    <view class="form-item">
      <text class="form-label">出生日期</text>
      <picker mode="date" value="{{form.birth_date}}" bindchange="onDateChange">
        <view class="picker-value {{form.birth_date ? '' : 'placeholder'}}">
          {{form.birth_date || '请选择日期'}}
        </view>
      </picker>
    </view>
    
    <view class="form-item">
      <text class="form-label">圈号</text>
      <input placeholder="请输入圈号" data-field="ring_number" bindinput="onInput" value="{{form.ring_number}}" />
    </view>
    
    <view class="form-item">
      <text class="form-label">价格区间</text>
      <view class="price-row">
        <input type="digit" placeholder="最低价" data-field="min_price" bindinput="onInput" value="{{form.min_price}}" />
        <text>-</text>
        <input type="digit" placeholder="最高价" data-field="max_price" bindinput="onInput" value="{{form.max_price}}" />
      </view>
    </view>
    
    <view class="form-item">
      <text class="form-label">健康备注</text>
      <textarea placeholder="请输入备注" data-field="health_notes" bindinput="onInput" value="{{form.health_notes}}" />
    </view>
  </view>
  
  <view class="photo-section">
    <text class="form-label">照片</text>
    <view class="photo-grid">
      <view class="photo-item" wx:for="{{photos}}" wx:key="index">
        <image src="{{item.url || item.path}}" mode="aspectFill" />
        <view class="photo-remove" data-index="{{index}}" bindtap="removePhoto">×</view>
      </view>
      <view class="photo-add" bindtap="choosePhoto" wx:if="{{photos.length < 9}}">
        <text>+</text>
        <text>添加照片</text>
      </view>
    </view>
  </view>
  
  <view class="submit-bar">
    <button bindtap="submit" disabled="{{submitting}}">{{submitting ? '保存中...' : '保存'}}</button>
  </view>
</view>
